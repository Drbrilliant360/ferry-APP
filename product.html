<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ferry Sokoni - Product Details</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</head>
<body class="bg-gray-50 font-sans pb-20">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3">
      <div class="flex justify-between items-center">
        <a href="javascript:history.back()" class="text-gray-600 hover:text-gray-800">
          <i class="fas fa-arrow-left"></i>
        </a>
        <h1 class="text-lg font-semibold">Product Details</h1>
        <a href="cart.html" class="text-gray-600 hover:text-gray-800 relative">
          <i class="fas fa-shopping-cart"></i>
          <span id="cart-count" class="absolute -top-2 -right-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
        </a>
      </div>
    </div>
  </header>

  <main class="p-4 max-w-screen-lg mx-auto">
    <!-- Product Image Gallery -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-4">
      <div class="relative">
        <img id="main-product-image" src="" alt="Product Image" class="w-full h-64 object-cover md:h-96">
        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4">
          <h2 id="product-name" class="text-2xl font-bold text-white md:text-3xl"></h2>
        </div>
      </div>
      <div class="p-4">
        <div class="flex flex-col md:flex-row justify-between items-center mb-4">
          <div class="mb-4 md:mb-0">
            <p id="product-price" class="text-2xl font-bold text-blue-600 md:text-3xl"></p>
            <p class="text-sm text-gray-500">per kg</p>
          </div>
          <div class="flex items-center space-x-2">
            <button id="decrease-quantity" class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300">
              <i class="fas fa-minus"></i>
            </button>
            <span id="quantity" class="text-lg font-semibold">1</span>
            <button id="increase-quantity" class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300">
              <i class="fas fa-plus"></i>
            </button>
          </div>
        </div>
        <div class="text-right">
          <p class="text-sm text-gray-500">Total Price:</p>
          <p id="total-price" class="text-xl font-bold text-blue-600"></p>
        </div>
      </div>
    </div>

    <!-- Seller Information -->
    <div class="bg-white rounded-lg shadow-md p-4 mb-4">
      <h3 class="text-lg font-bold text-gray-800 mb-3">Seller Information</h3>
      <div class="flex items-center space-x-3">
        <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
          <img id="seller-logo" src="" alt="Seller Logo" class="w-6 h-6">
        </div>
        <div>
          <p id="seller-name" class="font-semibold text-gray-800"></p>
          <p class="text-sm text-gray-500">Verified Seller</p>
        </div>
      </div>
    </div>

    <!-- Product Description -->
    <div class="bg-white rounded-lg shadow-md p-4 mb-4">
      <h3 class="text-lg font-bold text-gray-800 mb-3">Description</h3>
      <p id="product-description" class="text-gray-600 leading-relaxed"></p>
    </div>

    <!-- Product Details -->
    <div class="bg-white rounded-lg shadow-md p-4 mb-4">
      <h3 class="text-lg font-bold text-gray-800 mb-3">Product Details</h3>
      <div class="space-y-2">
        <div class="flex justify-between">
          <span class="text-gray-600">Category</span>
          <span id="product-category" class="font-medium"></span>
        </div>
        <div class="flex justify-between">
          <span class="text-gray-600">Origin</span>
          <span class="font-medium">Kigamboni, Tanzania</span>
        </div>
        <div class="flex justify-between">
          <span class="text-gray-600">Freshness</span>
          <span class="font-medium">Caught Today</span>
        </div>
      </div>
    </div>

    <!-- Add to Cart Button -->
    <button id="add-to-cart" class="w-full bg-blue-600 text-white font-bold py-4 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md flex items-center justify-center space-x-2">
      <i class="fas fa-shopping-cart"></i>
      <span>Add to Cart</span>
    </button>
  </main>

  <!-- Sticky Bottom Nav -->
  <nav class="fixed bottom-0 left-0 right-0 bg-white shadow-xl flex justify-around py-3 z-50 border-t border-gray-200">
    <a href="index.html" class="flex flex-col items-center text-gray-600 hover:text-blue-700 transition duration-300">
      <i class="fas fa-home text-xl"></i>
      <span class="text-xs font-medium mt-1">Home</span>
    </a>
    <a href="catalog.html" class="flex flex-col items-center text-gray-600 hover:text-blue-700 transition duration-300">
      <i class="fas fa-th-large text-xl"></i>
      <span class="text-xs font-medium mt-1">Products</span>
    </a>
    <a href="cart.html" class="flex flex-col items-center text-gray-600 hover:text-blue-700 transition duration-300">
      <i class="fas fa-shopping-cart text-xl"></i>
      <span class="text-xs font-medium mt-1">Cart</span>
    </a>
    <a href="account.html" class="flex flex-col items-center text-gray-600 hover:text-blue-700 transition duration-300">
      <i class="fas fa-user text-xl"></i>
      <span class="text-xs font-medium mt-1">Account</span>
    </a>
    <a href="support.html" class="flex flex-col items-center text-gray-600 hover:text-blue-700 transition duration-300">
      <i class="fas fa-headset text-xl"></i>
      <span class="text-xs font-medium mt-1">Support</span>
    </a>
  </nav>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Sample product data (in a real app, this would come from a database)
      const products = [
        {
          id: 1,
          name: "Fresh Red Snapper",
          price: 15000,
          image: "images/products/red-snapper.jpg",
          description: "Freshly caught red snapper, perfect for grilling or frying. Caught daily from local waters.",
          seller: "Ocean Fresh Seafood",
          rating: 4.8,
          reviews: 124,
          stock: 50,
          unit: "kg"
        },
        {
          id: 2,
          name: "Tiger Prawns",
          price: 25000,
          image: "images/products/tiger-prawns.jpg",
          description: "Large tiger prawns, perfect for seafood dishes. Imported from sustainable sources.",
          seller: "Ocean Fresh Seafood",
          rating: 4.9,
          reviews: 89,
          stock: 30,
          unit: "kg"
        }
      ];

      // Get product ID from URL
      const urlParams = new URLSearchParams(window.location.search);
      const productId = urlParams.get('id');

      // Find product
      const product = products.find(p => p.id === parseInt(productId));

      if (product) {
        const productDetails = document.getElementById('product-details');
        productDetails.innerHTML = `
          <div class="relative">
            <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover">
            <div class="absolute top-4 right-4 bg-white rounded-full p-2 shadow-md">
              <i class="far fa-heart text-gray-600"></i>
            </div>
          </div>
          <div class="p-4">
            <div class="flex justify-between items-start">
              <div>
                <h2 class="text-xl font-semibold">${product.name}</h2>
                <p class="text-2xl font-bold text-blue-600 mt-2">TZS ${product.price.toLocaleString()}</p>
              </div>
              <div class="flex items-center">
                <i class="fas fa-star text-yellow-400"></i>
                <span class="ml-1">${product.rating}</span>
                <span class="text-gray-500 text-sm ml-1">(${product.reviews})</span>
              </div>
            </div>
            
            <div class="mt-4">
              <h3 class="font-medium">Description</h3>
              <p class="text-gray-600 mt-1">${product.description}</p>
            </div>

            <div class="mt-4">
              <h3 class="font-medium">Seller</h3>
              <div class="flex items-center mt-1">
                <img src="images/seller-logo.jpg" alt="${product.seller}" class="w-8 h-8 rounded-full">
                <span class="ml-2">${product.seller}</span>
              </div>
            </div>

            <div class="mt-6">
              <h3 class="font-medium">Quantity</h3>
              <div class="flex items-center mt-2">
                <button id="decrease-quantity" class="w-10 h-10 border border-gray-300 rounded-l-lg flex items-center justify-center hover:bg-gray-100">
                  <i class="fas fa-minus"></i>
                </button>
                <input type="number" id="quantity" value="1" min="1" max="${product.stock}" 
                  class="w-16 h-10 border-t border-b border-gray-300 text-center focus:outline-none">
                <button id="increase-quantity" class="w-10 h-10 border border-gray-300 rounded-r-lg flex items-center justify-center hover:bg-gray-100">
                  <i class="fas fa-plus"></i>
                </button>
                <span class="ml-2 text-gray-600">${product.unit}</span>
              </div>
              <p class="text-sm text-gray-500 mt-1">Available: ${product.stock} ${product.unit}</p>
            </div>

            <div class="mt-6">
              <button id="add-to-cart" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200">
                Add to Cart
              </button>
            </div>
          </div>
        `;

        // Quantity controls
        const quantityInput = document.getElementById('quantity');
        const decreaseBtn = document.getElementById('decrease-quantity');
        const increaseBtn = document.getElementById('increase-quantity');
        const addToCartBtn = document.getElementById('add-to-cart');

        function updateQuantity(value) {
          const newValue = Math.max(1, Math.min(product.stock, value));
          quantityInput.value = newValue;
        }

        decreaseBtn.addEventListener('click', () => {
          updateQuantity(parseInt(quantityInput.value) - 1);
        });

        increaseBtn.addEventListener('click', () => {
          updateQuantity(parseInt(quantityInput.value) + 1);
        });

        quantityInput.addEventListener('change', () => {
          updateQuantity(parseInt(quantityInput.value));
        });

        // Add to cart functionality
        addToCartBtn.addEventListener('click', () => {
          const quantity = parseInt(quantityInput.value);
          if (quantity > 0 && quantity <= product.stock) {
            // Add to cart
            cart.addItem({
              id: product.id,
              name: product.name,
              price: product.price,
              quantity: quantity,
              image: product.image
            });
            
            // Show success message
            const message = document.createElement('div');
            message.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            message.textContent = `${product.name} added to cart`;
            document.body.appendChild(message);
            
            setTimeout(() => {
              message.style.opacity = '0';
              setTimeout(() => message.remove(), 300);
            }, 2000);
          }
        });
      } else {
        document.getElementById('product-details').innerHTML = `
          <div class="text-center py-8">
            <p class="text-gray-500">Product not found</p>
            <a href="catalog.html" class="text-blue-600 hover:text-blue-800 mt-2 inline-block">Back to Catalog</a>
          </div>
        `;
      }
    });
  </script>
</body>
</html> 